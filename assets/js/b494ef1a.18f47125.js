"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[517],{2055:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>a,toc:()=>c});var i=s(4848),r=s(8453);const t={id:"api_bindings",title:"Bindings",sidebar_position:1,slug:"/"},d="Binding API Calls",a={id:"api_bindings",title:"Bindings",description:"This documentation file contains guidelines in order to interact with the binding entity.",source:"@site/docs/api_bindings.md",sourceDirName:".",slug:"/",permalink:"/argo-api-authn/docs/",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{id:"api_bindings",title:"Bindings",sidebar_position:1,slug:"/"},sidebar:"tutorialSidebar",next:{title:"Service Types",permalink:"/argo-api-authn/docs/api_service_types"}},l={},c=[{value:"[POST] Manage Bindings - Create New Binding",id:"post-manage-bindings---create-new-binding",level:2},{value:"Request",id:"request",level:4},{value:"Example request",id:"example-request",level:3},{value:"Post Body",id:"post-body",level:5},{value:"Response",id:"response",level:3},{value:"Errors",id:"errors",level:3},{value:"[GET] Manage Bindings - List All Bindings",id:"get-manage-bindings---list-all-bindings",level:2},{value:"Request",id:"request-1",level:3},{value:"Response",id:"response-1",level:3},{value:"Success Response",id:"success-response",level:4},{value:"Errors",id:"errors-1",level:3},{value:"[GET] Manage Bindings - List All Bindings By Service Type And Host",id:"get-manage-bindings---list-all-bindings-by-service-type-and-host",level:2},{value:"Request",id:"request-2",level:3},{value:"Response",id:"response-2",level:3},{value:"Success Response",id:"success-response-1",level:4},{value:"Errors",id:"errors-2",level:3},{value:"[GET] Manage Bindings - List One Binding by Auth identifier",id:"get-manage-bindings---list-one-binding-by-auth-identifier",level:2},{value:"Request",id:"request-3",level:3},{value:"Response",id:"response-3",level:3},{value:"Success Response",id:"success-response-2",level:4},{value:"Errors",id:"errors-3",level:3},{value:"[GET] Manage Bindings - List One Binding By NAME",id:"get-manage-bindings---list-one-binding-by-name",level:2},{value:"Request",id:"request-4",level:3},{value:"Response",id:"response-4",level:3},{value:"Success Response",id:"success-response-3",level:4},{value:"Errors",id:"errors-4",level:3},{value:"[PUT] Manage Bindings - Update a Binding",id:"put-manage-bindings---update-a-binding",level:2},{value:"Request",id:"request-5",level:4},{value:"Request Body",id:"request-body",level:5},{value:"Response",id:"response-5",level:3},{value:"Success Response",id:"success-response-4",level:4},{value:"Errors",id:"errors-5",level:3},{value:"[DELETE] Manage Bindings - Delete a Binding",id:"delete-manage-bindings---delete-a-binding",level:2},{value:"Request",id:"request-6",level:4},{value:"Response",id:"response-6",level:3},{value:"Success Response",id:"success-response-5",level:4}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"binding-api-calls",children:"Binding API Calls"}),"\n",(0,i.jsx)(n.p,{children:"This documentation file contains guidelines in order to interact with the binding entity."}),"\n",(0,i.jsx)(n.p,{children:'A binding, is a structure that maps various forms of authentication to the credentials of a service type\'s "user" entity.'}),"\n",(0,i.jsx)(n.p,{children:'For example, a service type\'s "user", requires an api token to authenticate to its respective service type. This token should be either'}),"\n",(0,i.jsx)(n.p,{children:'remembered by the "user" or retrieved using some form of credentials.'}),"\n",(0,i.jsx)(n.p,{children:"A binding will hold additional information like a DN or an OIDC Token(in the auth_identifier field), that can be used to retrieve the required api token."}),"\n",(0,i.jsx)(n.p,{children:"A binding is associated with the uuid of a service type,the host on which this service type runs on,"}),"\n",(0,i.jsx)(n.p,{children:'It also requires the unique_key that the service type that is associated with, uses in order to expose its "user\'s" information.'}),"\n",(0,i.jsx)(n.h2,{id:"post-manage-bindings---create-new-binding",children:"[POST] Manage Bindings - Create New Binding"}),"\n",(0,i.jsx)(n.p,{children:"This request creates a new binding."}),"\n",(0,i.jsx)(n.h4,{id:"request",children:"Request"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"POST /v1/bindings/{name}`\n"})}),"\n",(0,i.jsx)(n.h3,{id:"example-request",children:"Example request"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'curl -X POST -H "Content-Type: application/json"\n  "https://{URL}/v1/bindings/b1?key={key_in_the_config}"\n'})}),"\n",(0,i.jsx)(n.h5,{id:"post-body",children:"Post Body"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'{\n\t"name": "b1",\n\t"service_uuid": "b61030d9-bef3-4768-9a03-7b1ff36e8af4cc",\n\t"host": "host1",\n\t"auth_identifier":"dn",\n\t"auth_type": "x509",\n\t"unique_key": "key"\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"response",children:"Response"}),"\n",(0,i.jsx)(n.p,{children:"If the request is successful, the response contains the newly created binding."}),"\n",(0,i.jsx)(n.p,{children:"Success Response"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"201 CREATED"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:' {\n     "name": "b1",\n     "service_uuid": "b61030d9-bef3-4768-9a03-7b1ff36e8af4cc",\n     "host": "host1",\n     "uuid": "p61020d9-bef3-4768-9a03-331ff36e8af4cc",\n     "auth_identifier": "dn",\n     "unique_key": "key",\n     "auth_type": "x509",\n     "created_on": "2018-05-24T09:58:17Z"\n }\n \n'})}),"\n",(0,i.jsx)(n.h3,{id:"errors",children:"Errors"}),"\n",(0,i.jsxs)(n.p,{children:["Please refer to section ",(0,i.jsx)(n.a,{href:"/argo-api-authn/docs/api_errors",children:"Errors"})," to see all possible Errors"]}),"\n",(0,i.jsx)(n.h2,{id:"get-manage-bindings---list-all-bindings",children:"[GET] Manage Bindings - List All Bindings"}),"\n",(0,i.jsx)(n.p,{children:"This request lists all bindings that are currently present in th service."}),"\n",(0,i.jsx)(n.h3,{id:"request-1",children:"Request"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"GET /v1/bindings\n"})}),"\n",(0,i.jsx)(n.h3,{id:"response-1",children:"Response"}),"\n",(0,i.jsx)(n.p,{children:"If the request is successful, the response contains all the bindings in the service."}),"\n",(0,i.jsx)(n.h4,{id:"success-response",children:"Success Response"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"200 OK"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'  {\n      "bindings": [\n              {\n                  "name": "testb",\n                  "service_uuid": "uuid1",\n                  "host": "host1",\n                  "uuid": "p61020d9-bef3-4768-9a03-331ff36e8af4cc",\n                  "auth_identifier": "testdn",\n                  "unique_key": "key",\n                  "auth_type": "x509",\n                  "created_on": "2018-05-23T09:25:25Z",\n                  "updated_on": "2021-05-05T18:04:05Z"\n                  "last_auth": "2018-05-23T09:25:25Z"\n              },\n              {\n                  "name": "testb2",\n                  "service_uuid": "uuid1",\n                  "host": "host1",\n                  "uuid": "p61020d9-bef3-4768-9a03-331ff36e8af4rr",\n                  "auth_identifier": "testdn",\n                  "unique_key": "key",\n                  "auth_type": "x509",                \n                  "created_on": "2018-05-23T09:25:43Z",\n                  "last_auth": "2018-05-23T09:25:25Z"\n              }\n      ]\n  }\n'})}),"\n",(0,i.jsx)(n.h3,{id:"errors-1",children:"Errors"}),"\n",(0,i.jsxs)(n.p,{children:["Please refer to section ",(0,i.jsx)(n.a,{href:"/argo-api-authn/docs/api_errors",children:"Errors"})," to see all possible Errors"]}),"\n",(0,i.jsx)(n.h2,{id:"get-manage-bindings---list-all-bindings-by-service-type-and-host",children:"[GET] Manage Bindings - List All Bindings By Service Type And Host"}),"\n",(0,i.jsx)(n.p,{children:"This request returns all the bindings under the specified service type and host."}),"\n",(0,i.jsx)(n.h3,{id:"request-2",children:"Request"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"GET /v1/service-types/{service-type}/hosts/{host}/bindings`\n"})}),"\n",(0,i.jsx)(n.h3,{id:"response-2",children:"Response"}),"\n",(0,i.jsx)(n.p,{children:"If the request is successful, the response contains all the bindings under the given host and service."}),"\n",(0,i.jsx)(n.h4,{id:"success-response-1",children:"Success Response"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"200 OK"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'  {\n      "bindings": [\n              {\n                  "name": "testb",\n                  "service_uuid": "uuid1",\n                  "host": "host1",\n                  "auth_identifier": "testdn",\n                  "uuid": "p61020d9-bef3-4768-9a03-331ff36e8af4cc",\n                  "unique_key": "key",\n                  "auth_type": "x509",                \n                  "created_on": "2018-05-23T09:25:25Z",\n                  "last_auth": "2018-05-23T09:25:25Z"\n              },\n              {\n                  "name": "testb2",\n                  "service_uuid": "uuid1",\n                  "host": "host1",\n                  "uuid": "p61020d9-bef3-4768-9a03-331ff36e8af4rr",\n                  "auth_identifier": "testdn",\n                  "unique_key": "key",\n                  "auth_type": "x509",                \n                  "created_on": "2018-05-23T09:25:43Z",\n                   "updated_on": "2021-05-05T18:04:05Z"\n                  "last_auth": "2018-05-23T09:25:25Z"\n              }\n      ]\n  }\n'})}),"\n",(0,i.jsx)(n.h3,{id:"errors-2",children:"Errors"}),"\n",(0,i.jsxs)(n.p,{children:["Please refer to section ",(0,i.jsx)(n.a,{href:"/argo-api-authn/docs/api_errors",children:"Errors"})," to see all possible Errors"]}),"\n",(0,i.jsx)(n.h2,{id:"get-manage-bindings---list-one-binding-by-auth-identifier",children:"[GET] Manage Bindings - List One Binding by Auth identifier"}),"\n",(0,i.jsx)(n.p,{children:"This request returns the binding under the provider service type and host matching\nthe auth identifier"}),"\n",(0,i.jsx)(n.h3,{id:"request-3",children:"Request"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"GET /v1/service-types/{service-type}/hosts/{host}/bindings?authID=test_dn\n"})}),"\n",(0,i.jsx)(n.h3,{id:"response-3",children:"Response"}),"\n",(0,i.jsx)(n.p,{children:"If the request is successful, the response contains all the bindings under the given host and service."}),"\n",(0,i.jsx)(n.h4,{id:"success-response-2",children:"Success Response"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"200 OK"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'  {\n      "bindings": [\n              {\n                  "name": "testb",\n                  "service_uuid": "uuid1",\n                  "host": "host1",\n                  "auth_identifier": "testdn",\n                  "uuid": "p61020d9-bef3-4768-9a03-331ff36e8af4cc",\n                  "unique_key": "key",\n                  "auth_type": "x509",                \n                  "created_on": "2018-05-23T09:25:25Z",\n                  "last_auth": "2018-05-23T09:25:25Z"\n              }\n      ]\n  }\n'})}),"\n",(0,i.jsx)(n.h3,{id:"errors-3",children:"Errors"}),"\n",(0,i.jsxs)(n.p,{children:["Please refer to section ",(0,i.jsx)(n.a,{href:"/argo-api-authn/docs/api_errors",children:"Errors"})," to see all possible Errors"]}),"\n",(0,i.jsx)(n.h2,{id:"get-manage-bindings---list-one-binding-by-name",children:"[GET] Manage Bindings - List One Binding By NAME"}),"\n",(0,i.jsx)(n.p,{children:"This request retrieves the information of a binding associated with the provided name."}),"\n",(0,i.jsx)(n.h3,{id:"request-4",children:"Request"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"GET /v1/bindings/{name}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"response-4",children:"Response"}),"\n",(0,i.jsx)(n.p,{children:"If the request is successful, the response contains the binding associated with the given uuid"}),"\n",(0,i.jsx)(n.h4,{id:"success-response-3",children:"Success Response"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"200 OK"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'  {\n      "name": "testb",\n      "service_uuid": "uuid1",\n      "host": "host1",\n      "uuid": "p61020d9-bef3-4768-9a03-331ff36e8af4cc",\n      "auth_identifier": "testdn",\n      "unique_key": "key",\n      "auth_type": "x509",                \n      "created_on": "2018-05-23T09:25:25Z",\n      "last_auth": "2018-05-23T09:25:25Z"   \n  }\n'})}),"\n",(0,i.jsx)(n.h3,{id:"errors-4",children:"Errors"}),"\n",(0,i.jsxs)(n.p,{children:["Please refer to section ",(0,i.jsx)(n.a,{href:"/argo-api-authn/docs/api_errors",children:"Errors"})," to see all possible Errors"]}),"\n",(0,i.jsx)(n.h2,{id:"put-manage-bindings---update-a-binding",children:"[PUT] Manage Bindings - Update a Binding"}),"\n",(0,i.jsx)(n.p,{children:"This request updates binding. You can specify one or more fields to update.\nThe allowed to be updated fields are:"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"name, service_uuid, host, auth_identifier, auth_type, unique_key"}),"."]}),"\n",(0,i.jsx)(n.h4,{id:"request-5",children:"Request"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"PUT /v1/bindings/{name}\n"})}),"\n",(0,i.jsx)(n.h5,{id:"request-body",children:"Request Body"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'{\n\t"name": "b1_updated"\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"response-5",children:"Response"}),"\n",(0,i.jsx)(n.p,{children:"If the request is successful, the response contains the updated binding."}),"\n",(0,i.jsx)(n.h4,{id:"success-response-4",children:"Success Response"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"200 OK"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:' {\n     "name": "b1_updated",\n     "service_uuid": "b61030d9-bef3-4768-9a03-7b1ff36e8af4cc",\n     "host": "host1",\n     "uuid": "p61020d9-bef3-4768-9a03-331ff36e8af4cc",\n     "auth_identifier": "host1",\n     "unique_key": "key",\n     "auth_type": "x509",                \n     "created_on": "2018-05-24T09:58:17Z",\n    "updated_on": "2021-05-05T18:04:05Z"\n }\n'})}),"\n",(0,i.jsx)(n.h3,{id:"errors-5",children:"Errors"}),"\n",(0,i.jsxs)(n.p,{children:["Please refer to section ",(0,i.jsx)(n.a,{href:"/argo-api-authn/docs/api_errors",children:"Errors"})," to see all possible Errors"]}),"\n",(0,i.jsx)(n.h2,{id:"delete-manage-bindings---delete-a-binding",children:"[DELETE] Manage Bindings - Delete a Binding"}),"\n",(0,i.jsx)(n.p,{children:"This request deletes a binding."}),"\n",(0,i.jsx)(n.h4,{id:"request-6",children:"Request"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"DELETE /v1/bindings/{name}`\n"})}),"\n",(0,i.jsx)(n.h3,{id:"response-6",children:"Response"}),"\n",(0,i.jsx)(n.p,{children:"If the request is successful, the response is empty."}),"\n",(0,i.jsx)(n.h4,{id:"success-response-5",children:"Success Response"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"204 No Content"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>a});var i=s(6540);const r={},t=i.createContext(r);function d(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);