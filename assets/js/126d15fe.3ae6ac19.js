"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[195],{3905:(e,t,s)=>{s.d(t,{Zo:()=>l,kt:()=>h});var r=s(7294);function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){n(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function p(e,t){if(null==e)return{};var s,r,n=function(e,t){if(null==e)return{};var s,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)s=a[r],t.indexOf(s)>=0||(n[s]=e[s]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)s=a[r],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}var o=r.createContext({}),c=function(e){var t=r.useContext(o),s=t;return e&&(s="function"==typeof e?e(t):i(i({},t),e)),s},l=function(e){var t=c(e.components);return r.createElement(o.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var s=e.components,n=e.mdxType,a=e.originalType,o=e.parentName,l=p(e,["components","mdxType","originalType","parentName"]),d=c(s),h=n,v=d["".concat(o,".").concat(h)]||d[h]||u[h]||a;return s?r.createElement(v,i(i({ref:t},l),{},{components:s})):r.createElement(v,i({ref:t},l))}));function h(e,t){var s=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=s.length,i=new Array(a);i[0]=d;var p={};for(var o in t)hasOwnProperty.call(t,o)&&(p[o]=t[o]);p.originalType=e,p.mdxType="string"==typeof e?e:n,i[1]=p;for(var c=2;c<a;c++)i[c]=s[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,s)}d.displayName="MDXCreateElement"},2617:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>p,toc:()=>c});var r=s(7462),n=(s(7294),s(3905));const a={id:"api_service_types",title:"Service Types",sidebar_position:2},i="Service API Calls",p={unversionedId:"api_service_types",id:"api_service_types",title:"Service Types",description:"[POST] Manage Service Types - Create New Service Type",source:"@site/docs/api_service_types.md",sourceDirName:".",slug:"/api_service_types",permalink:"/argo-api-authn/docs/api_service_types",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{id:"api_service_types",title:"Service Types",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Bindings",permalink:"/argo-api-authn/docs/"},next:{title:"Auth Methods",permalink:"/argo-api-authn/docs/api_auth_methods"}},o={},c=[{value:"POST Manage Service Types - Create New Service Type",id:"post-manage-service-types---create-new-service-type",level:2},{value:"Request",id:"request",level:4},{value:"Example request",id:"example-request",level:3},{value:"Post Body",id:"post-body",level:5},{value:"Response",id:"response",level:3},{value:"Success Response",id:"success-response",level:4},{value:"Errors",id:"errors",level:3},{value:"GET Manage Service Types - List All Service Types",id:"get-manage-service-types---list-all-service-types",level:2},{value:"Request",id:"request-1",level:3},{value:"Response",id:"response-1",level:3},{value:"Success Response",id:"success-response-1",level:4},{value:"Errors",id:"errors-1",level:3},{value:"GET Manage Service Types - List One Service Type",id:"get-manage-service-types---list-one-service-type",level:2},{value:"Request",id:"request-2",level:3},{value:"Success Response",id:"success-response-2",level:4},{value:"PUT Manage Service Types - Update a Service Type",id:"put-manage-service-types---update-a-service-type",level:2},{value:"Request",id:"request-3",level:3},{value:"Request Body",id:"request-body",level:4},{value:"Response",id:"response-2",level:3},{value:"Success Response",id:"success-response-3",level:4},{value:"Errors",id:"errors-2",level:3}],l={toc:c};function u(e){let{components:t,...s}=e;return(0,n.kt)("wrapper",(0,r.Z)({},l,s,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"service-api-calls"},"Service API Calls"),(0,n.kt)("h2",{id:"post-manage-service-types---create-new-service-type"},"[POST]"," Manage Service Types - Create New Service Type"),(0,n.kt)("p",null,"This request creates a new service type."),(0,n.kt)("h4",{id:"request"},"Request"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"POST /v1/service-types\n")),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"auth_types:")," This field refers to the authentication types that the service type wishes to support.The provided authentication types should also be supported by the authn service. E.g. a service type wishes to use an authentication type of x509 certificate, meaning that it will enable its users to use x509 certificates as an alternative authentication mechanism.The authn service will use an internal handler to map x509 certificates to a service-types credentials, so when declaring an auth-type, it needs to be first, supported by the authn-service itself."),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"auth_method"),": This field refers to the authentication method that the service type uses in order to authenticate requests against it.The specified authentication method should also be supported by the authn service. E.g. a service type can use the ",(0,n.kt)("inlineCode",{parentName:"p"},"api-key")," authentication method which means that it uses an api key/token to authenticate/authorize requests against it. Each authentication method uses an internal handler from the authn service in order to be executed, that's why the declared authentication method must be supported."),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"retrieval_field"),":The field refers to the response's field from the respective service type, which will contain the token we need. E.g. when accessing a service type's users, the response's field that might contain the token we are looking for, might come in different placeholders, like, access_token, token, jwt, etc."),(0,n.kt)("h3",{id:"example-request"},"Example request"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'curl -X POST -H "Content-Type: application/json"\n  "https://{URL}/v1/service-types?key={key_in_the_config}"\n')),(0,n.kt)("h5",{id:"post-body"},"Post Body"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'{\n    "name": "string",\n    "hosts": ["host1", "host2"],\n    "auth_types": ["x509", "oidc"],\n    "auth_method": "api-key",\n    "type": "ams"\n }\n')),(0,n.kt)("h3",{id:"response"},"Response"),(0,n.kt)("p",null,"If the request is successful, the response contains the newly created service type."),(0,n.kt)("h4",{id:"success-response"},"Success Response"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"201 CREATED")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},' {\n    "name": "string",\n    "hosts": ["host1", "host2"],\n    "auth_types": ["x509", "oidc"],\n    "auth_method": "api-key",\n    "uuid": "da22b2d4-ba6c-43ca-b28d-400cd0a5d83e",\n    "type": "ams",\n    "created_on": "2018-05-05T18:04:05Z" \n  }\n')),(0,n.kt)("h3",{id:"errors"},"Errors"),(0,n.kt)("p",null,"Please refer to section ",(0,n.kt)("a",{parentName:"p",href:"/argo-api-authn/docs/api_errors"},"Errors")," to see all possible Errors"),(0,n.kt)("h2",{id:"get-manage-service-types---list-all-service-types"},"[GET]"," Manage Service Types - List All Service Types"),(0,n.kt)("h3",{id:"request-1"},"Request"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"GET/v1/service-types\n")),(0,n.kt)("h3",{id:"response-1"},"Response"),(0,n.kt)("p",null," If the request is successful, the response contains all the service types."),(0,n.kt)("h4",{id:"success-response-1"},"Success Response"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"200 OK")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'{\n    "service_types": [\n        {\n            "name": "s1",\n            "hosts": [\n                "example.gr",\n                "127.0.0.1"\n            ],\n            "auth_types": [\n                "x509"\n            ],\n            "auth_method": "api-key",\n            "uuid": "da22b2d4-ba6c-43ca-b28d-400cd0a5d83e",\n            "type": "ams",\n            "created_on": ""\n        },\n        {\n            "name": "s2",\n            "hosts": [\n                "127.0.0.1",\n                "example2.gr"\n            ],\n            "auth_types": [\n                "x509",\n                "oidc"\n            ],\n            "auth_method": "api-key",\n            "uuid": "da22b2d4-ba6c-43ca-b28d-400sd0a5d83e",\n            "type": "ams",\n            "created_on": "2018-05-13T21:52:58Z",\n            "updated_on": "2021-05-05T18:04:05Z"\n        }\n    ]\n}\n')),(0,n.kt)("h3",{id:"errors-1"},"Errors"),(0,n.kt)("p",null,"Please refer to section ",(0,n.kt)("a",{parentName:"p",href:"/argo-api-authn/docs/api_errors"},"Errors")," to see all possible Errors"),(0,n.kt)("h2",{id:"get-manage-service-types---list-one-service-type"},"[GET]"," Manage Service Types - List One Service Type"),(0,n.kt)("h3",{id:"request-2"},"Request"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"GET/v1/service-types/{NAME}\n")),(0,n.kt)("p",null,"If the request is successful, the response contains information for the requested service type."),(0,n.kt)("h4",{id:"success-response-2"},"Success Response"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"200 OK")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'   {\n        "name": "string",\n        "hosts": ["host1", "host2"],\n        "auth_types": ["x509", "oidc"],\n        "auth_method": "api-key",\n        "uuid": "da22b2d4-ba6c-43ca-b28d-400cd0a5d83e",\n        "type": "ams",\n        "created_on": "2018-05-05T18:04:05Z",\n        "updated_on": "2021-05-05T18:04:05Z"\n    }\n')),(0,n.kt)("p",null,"Please refer to section ",(0,n.kt)("a",{parentName:"p",href:"/argo-api-authn/docs/api_errors"},"Errors")," to see all possible Errors"),(0,n.kt)("h2",{id:"put-manage-service-types---update-a-service-type"},"[PUT]"," Manage Service Types - Update a Service Type"),(0,n.kt)("p",null,"This request updates a service type. You can specify one or more fields to update.\nThe allowed to be updated fields are:"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"name, hosts, auth_types, auth_method"),"."),(0,n.kt)("h3",{id:"request-3"},"Request"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"PUT /v1/service-type/{service-type}\n")),(0,n.kt)("h4",{id:"request-body"},"Request Body"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'{\n    "name": "s1_updated"\n}\n')),(0,n.kt)("h3",{id:"response-2"},"Response"),(0,n.kt)("p",null,"If the request is successful, the response contains the updated service type."),(0,n.kt)("h4",{id:"success-response-3"},"Success Response"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"200 OK")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},' {\n        "name": "s1_updated",\n        "hosts": ["host1", "host2"],\n        "auth_types": ["x509", "oidc"],\n        "auth_method": "api-key",\n        "uuid": "da22b2d4-ba6c-43ca-b28d-400cd0a5d83e",\n        "type": "ams",\n        "created_on": "2018-05-05T18:04:05Z",\n        "updated_on": "2021-05-05T18:04:05Z"\n }\n')),(0,n.kt)("h3",{id:"errors-2"},"Errors"),(0,n.kt)("p",null,"Please refer to section ",(0,n.kt)("a",{parentName:"p",href:"/argo-api-authn/docs/api_errors"},"Errors")," to see all possible Errors"))}u.isMDXComponent=!0}}]);